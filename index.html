<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Badro Peintre - خدمات الدهان والطلاء</title>
    <style>
        /* أنماط التصميم العامة */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        
        /* ... الأنماط الأخرى تبقى كما هي ... */
        
    </style>
</head>
<body>
    <!-- ... محتوى HTML تبقى كما هي ... -->

    <script>
        // بديل localStorage للعمل في جميع البيئات
        const storage = {
            setItem: (key, value) => {
                try {
                    localStorage.setItem(key, value);
                } catch (e) {
                    // إذا فشل localStorage، استخدم cookies كبديل
                    document.cookie = `${key}=${encodeURIComponent(value)}; max-age=31536000; path=/`;
                }
            },
            getItem: (key) => {
                try {
                    return localStorage.getItem(key);
                } catch (e) {
                    // إذا فشل localStorage، استخدم cookies كبديل
                    const name = key + "=";
                    const decodedCookie = decodeURIComponent(document.cookie);
                    const ca = decodedCookie.split(';');
                    for(let i = 0; i < ca.length; i++) {
                        let c = ca[i];
                        while (c.charAt(0) === ' ') {
                            c = c.substring(1);
                        }
                        if (c.indexOf(name) === 0) {
                            return c.substring(name.length, c.length);
                        }
                    }
                    return null;
                }
            },
            removeItem: (key) => {
                try {
                    localStorage.removeItem(key);
                } catch (e) {
                    // إذا فشل localStorage، استخدم cookies كبديل
                    document.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;
                }
            }
        };

        // بيانات التعليقات
        const testimonials = JSON.parse(storage.getItem('testimonials')) || [
            {name: "علي السعيدي", location: "بوفاريك", comment: "خويا بدرو الله يحفظك سلكتني قبل عرسي خدمة الله يبارك خويا"},
            {name: "احلام احلام", location: "سيدي عبد الله", comment: "شكرا اخي يعطيك صحيحتك خدمتك متقونة وراك ساعدتنا مليح ربي يجازيك خير الجزاء."},
            {name: "kamel boraoui", location: "baba ahcen", comment: "badro frr mrc bqp bon travail et bon chance kho."},
            {name: "anianoitta", location: "blida", comment: "bravo badro top de top toujour fooor."},
            {name: "عيسى الجزائري", location: "عمروصة", comment: "روح راك رابح بدرو خويا خدمة ربي يبارك راصوفيتلي الحيوط مالبلاطر هذا والله كنت رايح لخسارة كبيرة ربي بعثك ليا الله يسترك."},
            {name: "أمي جنتي", location: "اولاد يعيش", comment: "شكرا خويا تستهل الدعم خدمة ما شاء الله كيما تقول العمل والاتقان"}
        ];

        // بيانات الصور (يمكن استبدالها بصور حقيقية)
        const galleryImages = [
            "https://via.placeholder.com/300x200/006633/ffffff?text=عمل+الدهان",
            "https://via.placeholder.com/300x200/00cc66/ffffff?text=طلاء+جديد",
            "https://via.placeholder.com/300x200/004d26/ffffff?text=تشطيبات",
            "https://via.placeholder.com/300x200/ffcc00/000000?text=ألوان+متنوعة",
            "https://via.placeholder.com/300x200/ffffff/006633?text=ديكورات",
            "https://via.placeholder.com/300x200/cccccc/006633?text=أعمالنا"
        ];

        // بيانات العروض
        const offers = [
            {title: "عرض الدهان الداخلي", description: "خصم 20% على خدمات الدهان الداخلي للمساحات الكبيرة"},
            {title: "عرض الصيف", description: "خصم 15% على الدهان الخارجي خلال فصل الصيف"},
            {title: "عرض خاص للعملاء الجدد", description: "استشارة مجانية وتقدير مجاني للتكلفة"}
        ];

        // دالة لعرض التعليقات
        function displayTestimonials() {
            const container = document.querySelector('.testimonials');
            container.innerHTML = '';
            
            testimonials.forEach(testimonial => {
                const div = document.createElement('div');
                div.className = 'testimonial';
                div.innerHTML = `
                    <p class="client-name">${testimonial.name}</p>
                    <p class="client-location">${testimonial.location}</p>
                    <p>${testimonial.comment}</p>
                `;
                container.appendChild(div);
            });
        }

        // دالة لعرض الصور
        function displayGallery() {
            const container = document.querySelector('.gallery');
            container.innerHTML = '';
            
            galleryImages.forEach(image => {
                const img = document.createElement('img');
                img.src = image;
                img.alt = "صورة من أعمالنا";
                container.appendChild(img);
            });
        }

        // دالة لعرض العروض
        function displayOffers() {
            const container = document.querySelector('.offers');
            container.innerHTML = '';
            
            offers.forEach(offer => {
                const div = document.createElement('div');
                div.className = 'offer';
                div.innerHTML = `
                    <h3>${offer.title}</h3>
                    <p>${offer.description}</p>
                `;
                container.appendChild(div);
            });
        }

        // دالة لإدارة التعليقات (للمسؤول)
        function manageTestimonials() {
            alert("هنا يمكنك إضافة أو تعديل أو حذف تعليقات العملاء");
        }

        // دالة لإدارة المعرض (للمسؤول)
        function manageGallery() {
            alert("هنا يمكنك إضافة أو تعديل أو حذف صور المعرض");
        }

        // دالة لإدارة العروض (للمسؤول)
        function manageOffers() {
            alert("هنا يمكنك إضافة أو تعديل أو حذف العروض");
        }

        // دالة لإظهار لوحة التحكم عند الضغط على زر معين (لأغراض التطوير)
        function showAdminPanel() {
            const panel = document.getElementById('admin-panel');
            if (panel.style.display === 'none') {
                panel.style.display = 'block';
            } else {
                panel.style.display = 'none';
            }
        }

        // معالجة إرسال نموذج الاتصال
        document.getElementById('contact-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // جمع بيانات النموذج
            const contactData = {
                id: Date.now(), // استخدام الطوابع الزمنية كمعرف فريد
                name: document.getElementById('contact-name').value,
                email: document.getElementById('contact-email').value,
                phone: document.getElementById('contact-phone').value || 'غير متوفر',
                message: document.getElementById('contact-message').value,
                date: new Date().toISOString(),
                read: false // لتحديد إذا كانت الرسالة مقروءة أم لا
            };
            
            // الحصول على الرسائل الحالية من storage
            let messages = JSON.parse(storage.getItem('contactMessages')) || [];
            
            // إضافة الرسالة الجديدة
            messages.push(contactData);
            
            // حفظ الرسائل في storage
            storage.setItem('contactMessages', JSON.stringify(messages));
            
            // إظهار رسالة النجاح
            const resultDiv = document.getElementById('form-result');
            resultDiv.style.display = 'block';
            resultDiv.className = 'form-result success';
            resultDiv.innerHTML = 'شكراً على رسالتك! سنتواصل معك قريباً.';
            
            // إخفاء الرسالة بعد 5 ثوان
            setTimeout(() => {
                resultDiv.style.display = 'none';
            }, 5000);
            
            // إعادة تعيين النموذج
            this.reset();
            
            // للتأكد من حفظ البيانات، يمكنك عرضها في console
            console.log('تم حفظ الرسالة:', contactData);
            console.log('جميع الرسائل:', messages);
        });

        // تهيئة الصفحة عند التحميل
        window.onload = function() {
            displayTestimonials();
            displayGallery();
            displayOffers();
            
            // إضافة رابط سري للوصول إلى لوحة التحكم (لأغراض التطوير)
            const footer = document.querySelector('footer');
            const adminLink = document.createElement('a');
            adminLink.href = '#';
            adminLink.onclick = showAdminPanel;
            adminLink.style.color = '#ccc';
            adminLink.style.fontSize = '12px';
            adminLink.textContent = 'لوحة التحكم';
            footer.appendChild(adminLink);
        };
    </script>
</body>
</html>
